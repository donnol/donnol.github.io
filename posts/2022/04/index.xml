<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>04 on 我的简单博客</title><link>https://donnol.github.io/posts/2022/04/</link><description>Recent content in 04 on 我的简单博客</description><generator>Hugo</generator><language>en</language><lastBuildDate>Fri, 22 Apr 2022 00:00:00 +0000</lastBuildDate><atom:link href="https://donnol.github.io/posts/2022/04/index.xml" rel="self" type="application/rss+xml"/><item><title>Go1.18 comparable</title><link>https://donnol.github.io/posts/2022/04/go1.18_comparable/</link><pubDate>Fri, 22 Apr 2022 00:00:00 +0000</pubDate><guid>https://donnol.github.io/posts/2022/04/go1.18_comparable/</guid><description>&lt;h1 id="go-118-预定义接口类型">
 Go 1.18 预定义接口类型
 &lt;a class="anchor" href="#go-118-%e9%a2%84%e5%ae%9a%e4%b9%89%e6%8e%a5%e5%8f%a3%e7%b1%bb%e5%9e%8b">#&lt;/a>
&lt;/h1>
&lt;p>先看一个提案: 
 &lt;a href="https://github.com/golang/go/issues/51338">proposal: spec: permit values to have type &amp;ldquo;comparable&amp;rdquo;&lt;/a> &amp;ndash; 允许值拥有&lt;code>comparable&lt;/code>类型，我的理解是，现在的&lt;code>comparable&lt;/code>只能用作泛型里的类型参数的约束，不能像普通类型那样使用，如下：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-go" data-lang="go">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">type&lt;/span> &lt;span style="color:#a6e22e">Set&lt;/span>[&lt;span style="color:#a6e22e">E&lt;/span> &lt;span style="color:#a6e22e">comparable&lt;/span>] []&lt;span style="color:#a6e22e">E&lt;/span> &lt;span style="color:#75715e">// 可以用做类型参数的约束
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">// 使用go1.18编译，报错：interface is (or embeds) comparable
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span>&lt;span style="color:#66d9ef">var&lt;/span> &lt;span style="color:#a6e22e">A&lt;/span> &lt;span style="color:#a6e22e">comparable&lt;/span> &lt;span style="color:#75715e">// 变量不可以使用`comparable`类型
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pr</description></item></channel></rss>